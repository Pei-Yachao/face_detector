#!/bin/sh
#linenum.sh

if [ $# -ne 1 ]; then
    echo "Usage: linenum_bash.sh filename"
    exit 1
fi  

IFS=$'\n'
#ファイルを配列に読み込む
file=(`cat "$1"`)

ln=0
for line in "${file[@]}"; do
    ln=`expr $ln + 1`
    printf '%3d %s\n' "$ln" "$line"
done
